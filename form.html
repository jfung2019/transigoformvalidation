<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <script src="//cdnjs.cloudflare.com/ajax/libs/alpinejs/2.3.0/alpine.js"></script>
    <title>Form</title>
</head>
<style>
  input:checked + label {
  background-color: #F5FFF6;
	border-color: #1FC157;
}

input:checked + label span {
	color: #1FC157;
}

.green-color {
  background-color: #1FC157;
}
/* 
.bubble:after {
	content: '';
	position: absolute;
	bottom: 0;
	left: 50%;
	width: 0;
	height: 0;
	border: 16px solid transparent;
	border-top-color: white;
	border-bottom: 0;
	margin-left: -16px;
	margin-bottom: -16px;
} */
.sucess{
  background-color: red!important;
}
.bubble{
  z-index: 10;
}

.bubble:after{
  background-color: inherit;
    box-shadow: -2px 2px 2px 0 rgba( 178, 178, 178, .4 );
    content: "\00a0";
    display: block;
    height: 20px;
    left: 50%;
	  margin-left: -10px;
    position: relative;
    z-index: 0;
    top: 14px;
    transform:             rotate( 315deg );
        -moz-transform:    rotate( 315deg );
        -ms-transform:     rotate( 315deg );
        -o-transform:      rotate( 315deg );
        -webkit-transform: rotate( 315deg );
    width:  20px;
}
</style>
<body>
  
<!-- Transigo Form -->
<div class="relative bg-white">

<!-- Nav/Header -->
    <div class="w-full mx-auto px-4 sm:px-6 border-b-2 border-gray-100 max-w-screen-lg">
      <div class="flex justify-between items-center lg:py-6 py-3 md:justify-start md:space-x-10">
        <div class="flex justify-start lg:w-0 lg:flex-1">
          <a href="#">
            <span class="sr-only">Transigo Logo</span>
            <img class="lg:h-20 lg:w-auto h-12 w-auto" src="images/logo4.png" alt="">
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Form  -->
  <div class="bg-gray-200 py-10">
    <div class="flex flex-wrap justify-center">
      <div class="justify-center w-11/12">
        <h1 class="text-center text-blue-900 text-2xl lg:text-4xl font-semibold py-3">Transigo Financing Application</h1>
        <P class="text-center pb-3">Filing this application will not affect your credit score.</P>
      </div>
    </div>

    <div class="flex flex-wrap justify-center">
    <div class="bg-white flex justify-center mt-5 w-full lg:w-6/12 rounded-lg">
      <div class="py-5 w-full p-6">
        <form action="" name="form"
        x-data="validateForm()"
                    x-init="
                      $watch('name', value => { validate('name') })
                      $watch('businessName', value => { validate('businessName') })
                      $watch('businessOwner', value => { validate('businessOwner') })
                      <!-- $watch('creditDaysRequired', value => {validate.value }) -->
                      $watch('creditDaysRequired', value => {validate('creditDaysRequired') })
                      $watch('email', value => { validate('email') })
                      $watch('password', value => { validate('password') })
                    "
        >
          <!-- 2 col input for lg / 1 row for sm -->
          <div class="flex flex-wrap -mx-3 mb-6">
            <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
              <label class="block tracking-wide text-gray-700 text-base font-semibold mb-2" for="grid-first-name">
                Name <span class="text-red-600">*</span>
              </label>
              <input x-model.lazy="name" class=" h-14 appearance-none block w-full text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-transparent" id="grid-first-name" type="text" placeholder="Enter Name">
             <div>
              <!-- validation.name.message === 'This field cannot be empty.' ? 'red' : condition2 ? 'green' : 'default' -->
              <p x-text="validation.name.message === 'This field cannot be empty.' ? 'red' : validation.name.message === 'Sucess class' ? 'green' : 'default' "></p>
              <!-- <p class="text-red-600 text-base" x-text="validation.name.message === 'This field cannot be empty.' ? 'show message red class':'show message green class'"></p> -->
              <p class="text-red-600 text-base" x-text="validation.name.message"></p>
            </div>
              <!-- <p class="text-red-600 text-base" x-text="validation.name.message"></p> -->
              <!-- <p class="text-red-600 text-base" x-text="validation.name.error"></p> -->
              <!-- <p class="text-red-600 text-base" x-data="validation.name.successclass"></p> -->
            </div>
            <div class="w-full md:w-1/2 px-3">
              <label class="block tracking-wide text-gray-700 text-base font-semibold mb-2" for="grid-last-name">
                Business Name <span class="text-red-600">*</span>
              </label>
              <input x-model.lazy="businessName"  class=" h-14 appearance-none block w-full text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-transparent" id="grid-last-name" type="text" placeholder="Enter Business Name">
              <p class="text-red-500 text-base" x-text="validation.businessName.message"></p>
              
            </div>
          </div>
          <div class="mb-4">
            <label class="block text-gray-700 text-base font-semibold mb-2" for="username">
              Business Owner <span class="text-red-600">*</span>
            </label>
            <input x-model="businessOwner" class="mb-3 h-14 appearance-none block w-full text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-transparent" id="username" type="text" placeholder="Enter Business Owner">
              <p class="text-red-500 text-base" x-text="validation.businessOwner.message"></p>
          </div>

          <div class="mb-4">
            <label class="block text-gray-700 text-base font-semibold mb-2" for="username">
              Owner’s Address <span class="text-red-600">*</span>
            </label>
            <input class="mb-3 h-14 appearance-none block w-full text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-transparent" id="username" type="text" placeholder="Enter Owner’s Address">
            <p class="text-red-500 text-base">This field cannot be empty</p>
          </div>

            <!-- 2 col input for lg / 1 row for sm -->
            <div class="flex flex-wrap -mx-3 mb-6">
              <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                <label class="block tracking-wide text-gray-700 text-base font-semibold mb-2" for="grid-first-name">
                  EIN <span class="text-red-600">*</span>
                </label>
                <input class="h-14 appearance-none block w-full text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-transparent" id="grid-first-name" type="text" placeholder="Enter EIN">
                <p class="text-red-500 text-base">This field cannot be empty.</p>
              </div>
              <div class="w-full md:w-1/2 px-3">
                <label class="block tracking-wide text-gray-700 text-base font-semibold mb-2" for="grid-last-name">
                  Phone <span class="text-red-600">*</span>
                </label>
                <input class="h-14 mb-3 appearance-none block w-full text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-transparent" id="grid-last-name" type="text" placeholder="Enter Phone Number (Format: +12123331212)">
                <p class="text-red-500 text-base">This field cannot be empty.</p>
              </div>
            </div>

            <!-- 2 col input for lg / 1 row for sm -->
            <div class="flex flex-wrap -mx-3 mb-6">
              <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                <label class="block tracking-wide text-gray-700 text-base font-semibold mb-2" for="grid-first-name">
                  Email <span class="text-red-600">*</span>
                </label>
                <input x-model="email" class="h-14 appearance-none block w-full text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-transparent" id="grid-first-name" type="text" placeholder="Enter Email Address">
                <!-- <p class="text-red-500 text-base">This field cannot be empty.</p> -->
                <p class="text-red-500 text-base" x-text="validation.email.message"></p>
              </div>
              <div class="w-full md:w-1/2 px-3">
                <label class="block tracking-wide text-gray-700 text-base font-semibold mb-2" for="grid-last-name">
                  Amazon Merchant ID<span class="text-red-600">*</span>
                </label>
                <input class="h-14 appearance-none block w-full text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-transparent" id="grid-last-name" type="text" placeholder="Enter Amazon Merchant ID">
                <p class="text-red-500 text-base">This field cannot be empty.</p>
              </div>
            </div>
            

            <!-- 2 col input for lg / 1 row for sm -->
            <div class="flex flex-wrap -mx-3 mb-6">
              <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                <label class="block tracking-wide text-gray-700 text-base font-semibold mb-2" for="grid-first-name">
                  Years in Business  <span class="text-red-600">*</span>
                </label>
                <input class="h-14 appearance-none block w-full text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-transparent" id="grid-first-name" type="text" placeholder="Enter Years in Business">
                <p class="text-red-500 text-base">This field cannot be empty.</p>
              </div>
              <div class="w-full md:w-1/2 px-3">
                <label class="block tracking-wide text-gray-700 text-base font-semibold mb-2" for="grid-last-name">
                  Yearly Revenue  <span class="text-red-600">*</span>
                </label>
                <input class="mb-3 appearance-none h-14 block w-full text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-transparent" id="grid-last-name" type="text" placeholder="Enter Yearly Revenue">
                <p class="text-red-500 text-base">This field cannot be empty</p>
              </div>
            </div>

            <!-- 2 col input for lg / 1 row for sm -->
            <div class="flex flex-wrap -mx-3 mb-6">
              <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                <label class="block tracking-wide text-gray-700 text-base font-semibold mb-2" for="grid-first-name">
                  Purchase Order Sum  <span class="text-red-600">*</span>
                </label>
                <input class="appearance-none block w-full h-14 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-transparent" id="grid-first-name" type="text" placeholder="Enter Purchase Order Sum">
                <p class="text-red-500 text-base">This field cannot be empty.</p>
              </div>
              <div class="w-full md:w-1/2 px-3">
                <label class="block tracking-wide text-gray-700 text-base font-semibold mb-2" for="grid-last-name">
                  Credit Days Required  <span class="text-red-600">*</span>
                </label>
                <!-- <input class="appearance-none block w-full text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="grid-last-name" type="text" placeholder="Enter Credit Days Required"> -->
                <div class="grid grid-cols-3 gap-2 w-full max-w-screen-sm">
                  <div>
                    <!-- @change="console.log(validation.credit)" -->
                    <input class="hidden" id="radio_1" type="radio" name="creditDaysRequired" x-model.lazy="creditDaysRequired" value="60 Days">
                    <label class="flex flex-col p-3.5 border border-gray-200 rounded cursor-pointer" for="radio_1">
                      <span class="text-base text-center text-gray-400 font-semibold">60 Days</span>
                    </label>
                  </div>
                  <div>
                    <input  class="hidden" id="radio_2" type="radio" name="creditDaysRequired" x-model.lazy="creditDaysRequired" value="90 Days">
                    <label class="flex flex-col p-3.5 border border-gray-200 rounded cursor-pointer" for="radio_2">
                      <span class="text-base text-center text-gray-400 font-semibold">90 Days</span>
                    </label>
                  </div>
                  <div>
                    <input class="hidden" id="radio_3" type="radio" name="creditDaysRequired" x-model.lazy="creditDaysRequired" value="120 Days">
                    <label class="flex flex-col p-3.5 border border-gray-200 rounded cursor-pointer" for="radio_3">
                      <span class="text-base text-center text-gray-400 font-semibold">120 Days</span>
                    </label>
                  </div>
                  <!-- <p>creditDaysRequired: <span x-text="creditDaysRequired"></span></p> -->
                  <p class="text-red-600 text-base" x-text="validation.creditDaysRequired.message"></p>
                </div>
                <!-- <p class="text-red-500 text-base mt-3">This cannot be left unselected.</p> -->
              </div>
            </div>

          <div class="flex-wrap flex mb-4">
            <label class="flex space-x-3 text-gray-700 text-base font-semibold mb-2" for="username">
              Bank Information
              <span class="text-red-600">*</span> 
              <div x-data="{ open: false }" class="ml-4" @mouseleave="open = false">
                <button @mouseover="open = true" ><img class="lg:h-6 lg:w-auto h-6 w-auto cursor-help" src="images/questionMarkIcon.png" alt=""> </button>
                <div x-show="open" class="flex justify-center">
                  <span class="lg:-mt-64 p-4 -mt-64 lg:h-[200px] lg:w-[350px] h-[200px] w-[350px] absolute bg-white shadow text-sm bubble whitespace-pre-wrap">In order for us to be able to extend you the requested credit amount, we will use Plaid to access your bank account for two specific purposes. The first is to view your transaction history to properly assess your credit request. The second is to initiate an automatic ACH transfer for repayment of the extended credit amount at the end of the pre-agreed term.</span>
                </div>
              </div>
              <span class="text-base font-medium text-blue-900 underline align-bottom">Click here for more info</span>
            </label>
            <button class="w-full bg-red-200 h-14 text-red-500 hover:bg-red-700 hover:text-white text-white font-bold py-2 px-4 border border-red-600 rounded">
              Click here to set Bank info +
            </button>   
            <p class="text-red-500 text-base mt-3">A bank account has to be added.</p>
          </div>

          <div class="flex flex-wrap justify-center">
            <button type="submit" :disabled="businessName.length ===0 || name.length ===0  " class="h-14 lg:w-2/4 w-full my-4 hover:bg-green-700 text-white font-bold py-2 px-4 border green-color rounded disabled:bg-gray-200">
              Submit
            </button>
          </div>
 
          

          <!-- <div class="flex items-center justify-between">
            <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="button">
              Sign In
            </button>
            <a class="inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800" href="#">
              Forgot Password?
            </a>
          </div> -->

        </form>
      </div>
    </div>
    </div>


  
  </div>

  <!-- Footer -->
  <footer class="bg-white">
    <div class="md:flex lg:pl-64 max-w-screen-lg space-x-2 text-center py-10 p-8 text-gray-500">
      <P>Copyright © 2021 <span class="text-green-500">Transigo</span></P>
      <P>All Rights Reserved</P>
    </div>
  </footer>
  <script src="https://unpkg.com/tailwindcss-jit-cdn"></script>

  <!-- Validator Script -->
  <script>

    window.validateForm = function () {
        return {
            name: '',
            businessName: '',
            businessOwner: '',
            ownerAddress: '',
            ein: '',
            phone: '',
            email: '',
            password: '',
            amazonMerchantId: '',
            yearsInBusiness: '',
            yearlyRevenue: '',
            purchaseOrderSum: '',
            creditDaysRequired: '',
            validation: {
            name: {
                rule: {
                required: function (field) {
                  // console.log(field)
                    if (field) {
                    return { error: false, message: ''}
                    } else {
                    return { error: true, message: 'This field cannot be empty.'}
                    }
                },
                isSuccess: function (field, value = 1) {
                    if (field && field.length > value) {
                    return { error: true, message: 'Sucess class'}
                    } else {
                    return { error: true, message: `Error ${value}.`}
                    }
                }
                },
                error: true,
                message: ''
            },
            creditDaysRequired: {
                rule: {
                required: function (field) {
                  console.log(field)
                    if (field) {
                    return { error: false, message: ''}
                    } else {
                    return { error: true, message: 'This field cannot be empty.'}
                    }
                },
                isSuccess: function (field, value = 1) {
                    if (field && field.length > value) {
                    return { error: true, message: 'Sucess class show'}
                    } else {
                    return { error: true, message: `Error ${value}.`}
                    }
                }
                },
                error: true,
                message: ''
            },
            businessName: {
                rule: {
                required: function (field) {
                    if (field) {
                    return { error: false, message: ''}
                    } else {
                    return { error: true, message: 'This field cannot be empty.'}
                    }
                },
                isSuccess: function (field, value = 1) {
                    if (field && field.length > value) {
                    return { error: false, message: 'Sucess class'}
                    } else {
                    return { error: true, message: `Error ${value}.`}
                    }
                }
                },
                error: true,
                message: ''
            },
            businessOwner: {
                rule: {
                required: function (field) {
                    if (field) {
                    return { error: false, message: ''}
                    } else {
                    return { error: true, message: 'This field cannot be empty.'}
                    }
                },
                },
                error: true,
                message: ''
            },
            ownerAddress: {
                rule: {
                required: function (field) {
                    if (field) {
                    return { error: false, message: ''}
                    } else {
                    return { error: true, message: 'This field cannot be empty.'}
                    }
                },
                },
                error: true,
                message: ''
            },
            ein: {
                rule: {
                required: function (field) {
                    if (field) {
                    return { error: false, message: ''}
                    } else {
                    return { error: true, message: 'This field cannot be empty.'}
                    }
                },
                },
                error: true,
                message: ''
            },
            phone: {
                rule: {
                required: function (field) {
                    if (field) {
                    return { error: false, message: ''}
                    } else {
                    return { error: true, message: 'This field cannot be empty.'}
                    }
                },
                phone: function (field) {
                  // change this for phone regex us format
                    const rgx = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
                    if (rgx.test(field)) {
                    return { error: false, message: ''}
                    } else {
                    return { error: true, message: 'Enter a valid phone number (e.g. +12125552368).'}
                    }
                }
                },
                error: true,
                message: ''
            },
            email: {
                rule: {
                required: function (field) {
                    if (field) {
                    return { error: false, message: ''}
                    } else {
                    return { error: true, message: 'This field is required.'}
                    }
                },
                email: function (field) {
                    const rgx = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
                    if (rgx.test(field)) {
                    return { error: false, message: ''}
                    } else {
                    return { error: true, message: 'This field has wrong email address format.'}
                    }
                }
                },
                error: true,
                message: ''
            },
            password: {
                rule: {
                required: function (field) {
                    if (field) {
                    return { error: false, message: ''}
                    } else {
                    return { error: true, message: 'This field is required.'}
                    }
                },
                minLength: function (field, value = 2) {
                    if (field && field.length >= value) {
                    return { error: false, message: ''}
                    } else {
                    return { error: true, message: `This field must have minimum ${value} characters length.`}
                    }
                }
                },
                error: true,
                message: ''
            }
            },
            amazonMerchantId: {
                rule: {
                required: function (field) {
                    if (field) {
                    return { error: false, message: ''}
                    } else {
                    return { error: true, message: 'This field cannot be empty.'}
                    }
                },
                },
                error: true,
                message: ''
            },
            yearsInBusiness: {
                rule: {
                required: function (field) {
                    if (field) {
                    return { error: false, message: ''}
                    } else {
                    return { error: true, message: 'This field cannot be empty.'}
                    }
                },
                },
                error: true,
                message: ''
            },
            yearlyRevenue: {
                rule: {
                required: function (field) {
                    if (field) {
                    return { error: false, message: ''}
                    } else {
                    return { error: true, message: 'This field cannot be empty.'}
                    }
                },
                },
                error: true,
                message: ''
            },
            purchaseOrderSum: {
                rule: {
                required: function (field) {
                    if (field) {
                    return { error: false, message: ''}
                    } else {
                    return { error: true, message: 'This field cannot be empty.'}
                    }
                },
                },
                error: true,
                message: ''
            },
            validate (field) {
            for (const key in this.validation[field].rule) {
                const validationResult = this.validation[field].rule[key](this[field])
                if (validationResult.error) {
                this.validation[field].error = true
                this.validation[field].message = validationResult.message
                break
                }
                this.validation[field].error = false
                this.validation[field].message = ''
                continue
            }
            }
        }
        }
  </script>
</body>
</html>